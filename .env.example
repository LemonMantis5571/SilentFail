# ==============================================================================
# 1. APP CONFIGURATION
# ==============================================================================

# The environment mode: 'development' or 'production'
NODE_ENV="development"

# The public URL of your application.
# Used for generating links in emails and redirect callbacks.
# Local: http://localhost:3000
# Prod: https://your-domain.com
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ==============================================================================
# 2. DATABASE (Prisma & Docker)
# ==============================================================================

# OPTION A: Using Docker (Local Development)
# These variables are used by docker-compose to setup the Postgres container.
DB_USER="silentfail"
DB_PASSWORD="securepassword"
DB_NAME="silentfail"

# Connection string for Prisma.
# If running via Docker Compose, use port 5432 (mapped to host).
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://silentfail:securepassword@localhost:5432/silentfail"

# OPTION B: Using a Cloud DB (Supabase, Neon, etc.)
# If you have a cloud database, you can IGNORE DB_USER, DB_PASSWORD, and DB_NAME above.
# Only set the DATABASE_URL below.
# DATABASE_URL="postgresql://user:password@cloud-host:5432/dbname?sslmode=require"

# ==============================================================================
# 3. AUTHENTICATION (Better Auth)
# ==============================================================================

# A secure random string used to sign tokens/cookies.
# You can generate one via terminal: openssl rand -base64 32
BETTER_AUTH_SECRET="" 

# The base URL where Better Auth is running (Must match NEXT_PUBLIC_APP_URL)
BETTER_AUTH_URL="http://localhost:3000"

# --- GitHub OAuth ---
# Create a new OAuth App here: https://github.com/settings/developers
# Homepage URL: http://localhost:3000
# Callback URL: http://localhost:3000/api/auth/callback/github
BETTER_AUTH_GITHUB_CLIENT_ID=""
BETTER_AUTH_GITHUB_CLIENT_SECRET=""

# --- Discord OAuth ---
# Create a new App here: https://discord.com/developers/applications
# Callback URL: http://localhost:3000/api/auth/callback/discord
BETTER_AUTH_DISCORD_CLIENT_ID=""
BETTER_AUTH_DISCORD_CLIENT_SECRET=""

# ==============================================================================
# 4. EMAIL (Resend)
# ==============================================================================

# Get your API Key from: https://resend.com/api-keys
RESEND_API_KEY=""

# The sender identity.
# For development/testing (without a domain), use: "SilentFail <onboarding@resend.dev>"
# For production, use your verified domain: "SilentFail <alerts@yourdomain.com>"
EMAIL_FROM="SilentFail <onboarding@resend.dev>"

# ==============================================================================
# 5. SCHEDULER & SECURITY
# ==============================================================================

# Server port (default: 3000)
# Some platforms like Railway use 8080
PORT="3000"

# A long random string to protect the /api/cron/check endpoint.
# The internal scheduler container uses this to authenticate its requests.
# Generate: openssl rand -hex 32
CRON_SECRET=""

# How often the cron worker checks for silent failures (in seconds)
# Default: 60
CRON_INTERVAL="60"